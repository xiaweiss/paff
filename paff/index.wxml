<nav-bar title="Paff Editor" />

<textarea
  class="input"
  value="{{value}}"
  maxlength="{{-1}}"
  adjust-position="{{false}}"
  hold-keyboard="{{true}}"
  confirm-type="return"
  confirm-hold="{{true}}"
  focus="{{isFocus}}"
  selection-start="{{start}}"
  selection-end="{{end}}"
  bind:focus="focus"
  bind:blur="blur"
  bind:change="change"
  bind:input="input"
  bind:confirm="confirm"
  bind:keyboardheightchange="keyboardheightchange"

  bind:selectionchange="selectionchange"
  bind:keyboardcompositionstart="keyboardcompositionstart"
  bind:keyboardcompositionupdate="keyboardcompositionupdate"
  bind:keyboardcompositionend="keyboardcompositionend"

  show-confirm-bar="{{false}}"
/>

<pan-gesture-handler
  tag="pan"
  simultaneousHandlers="{{['scroll']}}"
  worklet:should-response-on-move="workletShouldResponseOnMovePan"
  worklet:should-accept-gesture="workletShouldAcceptGesturePan"
  worklet:ongesture="workletOngesturePan"
>
  <vertical-drag-gesture-handler
    tag="scroll"
    native-view="scroll-view"
    simultaneousHandlers="{{['pan']}}"
    worklet:should-response-on-move="workletShouldResponseOnMoveScroll"
    worklet:should-accept-gesture="workletShouldAcceptGestureScroll"
  >
    <scroll-view
      class="scroll-view"
      type="custom"
      scroll-y
      scroll-top="{{scrollTop}}"
      scroll-with-animation="{{false}}"
      bind:tap="tap"
      worklet:onscrollstart="workletOnscrollstart"
      worklet:onscrollupdate="workletOnscrollupdate"
      worklet:onscrollend="workletOnscrollend"
    >
        <button catch:tap="test">test</button>
        <text
          class="content"
        >
          <block>{{content}}</block>
          <text class="composition">{{composition}}</text>
        </text>

      <view class="placeholder" />
    </scroll-view>
  </vertical-drag-gesture-handler>
</pan-gesture-handler>

<tool-bar
  isFocus="{{isFocus}}"
  keyboardHeight="{{keyboardHeight}}"
  safeAreaBottom="{{safeAreaBottom}}"
/>
